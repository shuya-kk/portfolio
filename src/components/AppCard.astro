---
interface Props {
    name: string;
    description: string;
    iconUrl: string;
    appStoreUrl: string;
    features?: string[];
    isFeatured?: boolean;
}

const {
    name,
    description,
    iconUrl,
    appStoreUrl,
    features = [],
    isFeatured = false,
} = Astro.props;
---

<a
    href={appStoreUrl}
    target="_blank"
    class={`group relative block p-8 md:p-16 zen-panel zen-hover overflow-hidden ${isFeatured ? "md:col-span-2" : ""}`}
>
    <!-- Minimalist Gold Corner -->
    <div
        class="absolute top-0 right-0 w-12 h-12 border-t border-r border-zen-gold opacity-0 group-hover:opacity-40 transition-opacity duration-1000"
    >
    </div>

    <div class="relative z-10 flex flex-col h-full">
        <div class="flex items-start justify-between mb-16">
            <div class="relative">
                <img
                    src={iconUrl}
                    alt={`${name} icon`}
                    class={`relative z-10 rounded-2xl shadow-sm border border-zen-border bg-white p-2 grayscale-[0.2] transition-all duration-700 group-hover:grayscale-0 group-hover:scale-105 ${isFeatured ? "w-28 h-28" : "w-18 h-18"}`}
                />
            </div>

            <div class="flex flex-col items-end gap-6">
                {isFeatured && <div class="sig-mark">FEATURED</div>}
                <div
                    class="opacity-0 group-hover:opacity-100 transition-all duration-700 translate-x-4 group-hover:translate-x-0"
                >
                    <svg
                        class="w-5 h-5 text-zen-gold"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="1.2"
                            d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg
                    >
                </div>
            </div>
        </div>

        <h3
            class={`serif-heading font-light text-zen-ink mb-10 ${isFeatured ? "text-4xl md:text-6xl" : "text-3xl"}`}
        >
            <span class="inline-block relative">
                {name}
                <div
                    class="absolute -bottom-2 left-0 w-0 h-[0.5px] bg-zen-gold opacity-40 group-hover:w-full transition-all duration-1000"
                >
                </div>
            </span>
        </h3>

        <p
            class="text-zen-dim text-lg leading-loose mb-16 serif-sub line-clamp-3 flex-grow opacity-80"
        >
            {description}
        </p>

        {
            features.length > 0 && (
                <div class="flex flex-wrap gap-4 mt-auto">
                    {features.slice(0, 4).map((feature) => (
                        <span class="text-[9px] font-bold px-4 py-1.5 border border-zen-border text-zen-indigo/60 lowercase tracking-[0.2em] relative group-hover:border-zen-gold/40 transition-colors duration-700">
                            {feature}
                        </span>
                    ))}
                </div>
            )
        }
    </div>
</a>
